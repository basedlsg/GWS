# Testing Checklist for The Great Work Suite

## Automated Tests (via Debug Panel)

1. **Open the application** at http://localhost:5173
2. **Click "Show Debug Panel"** button on the landing page
3. **Click "Run All Tests"** and verify:
   - âœ… Env Variable Found
   - âœ… Groq API Key is Set in Settings
   - âœ… Preferred AI Provider is 'groq'
   - âœ… Groq API responds successfully
   - âœ… Distillation generates goal-specific tasks (NO "Google Scholar")
   - âœ… localStorage works correctly

## Manual Feature Testing

### 1. Transmute Feature
**Test: Real-time performance and indentation**

Steps:
1. Navigate to `/transmute`
2. Type text with varying indentation:
   ```
   # Header
   Regular line
     Indented line
       Double indented
   - Bullet point
     - Nested bullet
   ```
3. **Verify:**
   - [ ] Preview updates smoothly (no lag)
   - [ ] Debouncing works (updates ~150ms after stopping typing)
   - [ ] Indentation is preserved in the transformed code
   - [ ] Line numbers appear
   - [ ] Code looks like actual code (hex values, bitwise ops, no plain text)

**Expected Result:** Smooth, responsive updates with preserved indentation

---

### 2. Distillation Feature
**Test: Goal-specific task generation with Groq**

Steps:
1. Navigate to `/distillation`
2. Create a new session
3. Enter goal: "buying a car"
4. Click "Generate Tasks"
5. **Verify:**
   - [ ] Toast shows success
   - [ ] 6-8 tasks appear
   - [ ] Tasks are SPECIFIC to "buying a car" (e.g., "Check credit score", "Compare car models")
   - [ ] NO MENTION of "Google Scholar" or academic research
   - [ ] Sub-steps are shown with newlines (not all on one line)
   - [ ] Each sub-step starts with " - " and is indented
   - [ ] Tasks include time estimates
   - [ ] Priority levels shown (HIGH/MEDIUM/LOW)

6. **Check console logs:**
   - [ ] Should see `[Distillation] Using AI provider: groq`
   - [ ] Should NOT see `[Distillation] Using AI provider: template`

**Expected Result:** Practical, actionable tasks specific to buying a car, generated by Groq

**Test with different goals:**
- [ ] "learning to code" â†’ Programming-specific tasks (NOT "search Google Scholar")
- [ ] "getting fit" â†’ Fitness-specific tasks
- [ ] "starting a business" â†’ Business-specific tasks

---

### 3. Projection Feature
**Test: Context-aware dialogue generation**

Steps:
1. Navigate to `/projection`
2. Create a new scenario (e.g., Job Interview)
3. Start the simulation
4. Send first message: "Hi, I'm excited to interview for the senior developer position"
5. **Verify response:**
   - [ ] Response references "senior developer position" specifically
   - [ ] Response is contextually relevant (not generic "tell me about yourself")
   - [ ] Console shows `[Projection] Using AI provider: groq`

6. Send second message: "I have 5 years of experience with React and Node.js"
7. **Verify response:**
   - [ ] Response references "React" or "Node.js" or "5 years"
   - [ ] Response builds on previous conversation
   - [ ] Not generic (e.g., NOT "That's interesting, tell me more")

8. Send third message with specific details: "I led a team that built a real-time chat app with WebSockets"
9. **Verify response:**
   - [ ] Response mentions "chat app", "WebSockets", or "team leadership"
   - [ ] Asks relevant follow-up question about that specific experience
   - [ ] Shows understanding of context

**Expected Result:** AI responses that directly reference user's specific statements, not generic replies

---

### 4. Culmination Feature
**Test: Achievement save and display**

Steps:
1. Navigate to `/culmination`
2. Create a new portfolio (name: "Test Portfolio")
3. Click "New Achievement"
4. Fill out form:
   - Title: "Test Achievement"
   - Category: Career
   - Status: Achieved
   - Description: "This is a test"
5. Click "Save"
6. **Verify:**
   - [ ] Toast shows "Achievement Added"
   - [ ] Achievement appears in portfolio immediately
   - [ ] Achievement displays correct title, category, status
   - [ ] Portfolio shows achievement count: (1)
   - [ ] Console shows successful save logs

7. **Refresh the page**
8. **Verify:**
   - [ ] Achievement still appears
   - [ ] Count still shows (1)
   - [ ] All details preserved

9. **Add second achievement**
10. **Verify:**
    - [ ] Both achievements appear
    - [ ] Count shows (2)
    - [ ] No duplicates

11. **Edit an achievement**
12. **Verify:**
    - [ ] Changes save immediately
    - [ ] UI updates without refresh

13. **Delete an achievement**
14. **Verify:**
    - [ ] Achievement removed immediately
    - [ ] Count decreases

**Expected Result:** All achievements save, load, and display correctly without data loss

---

## Console Log Verification

### Expected console logs on app start:
```
ðŸ”§ [SettingsProvider] Loading Groq API key from environment
  - Key found: gsk_D3QDOIQsSp2e...
  - Setting as default provider: groq
```

OR if already configured:
```
âœ“ [SettingsProvider] Groq API key already configured
  - Preferred provider: groq
```

### In Distillation:
```
[Distillation] Generating tasks for goal: buying a car
[Distillation] Using AI provider: groq
[Distillation] Tasks generated: 6
```

### In Projection:
```
[Projection] Generating response
[Projection] Using AI provider: groq
[Projection] Conversation history length: 4
```

### In Culmination:
```
ðŸ“¦ addAchievementToPortfolio called with portfolioId: ...
ðŸ“¦ created new achievement: {...}
ðŸ“¦ savePortfolios result: true
ðŸŽ¯ freshPortfolios loaded: 1 portfolios
ðŸŽ¯ updated achievements count: 1
```

---

## Common Issues and Fixes

### Issue: "Using AI provider: template" in console
**Problem:** Groq API key not loaded or not set as default

**Fix:**
1. Check `.env.local` exists with `VITE_GROQ_API_KEY=...`
2. Restart dev server (`npm run dev`)
3. Clear localStorage: `localStorage.clear()` in browser console
4. Refresh page

### Issue: Tasks mention "Google Scholar"
**Problem:** Using template fallback instead of Groq

**Fix:**
1. Verify Groq API key is active
2. Check console for error messages
3. Retry with Debug Panel "Test Distillation" button

### Issue: Culmination achievements don't appear
**Problem:** React state not updating

**Fix:**
1. Check console for save logs
2. Verify localStorage shows data: `localStorage.getItem('gws:culmination:portfolios')`
3. If data exists but not showing, this is a display bug - report with console logs

### Issue: Projection gives generic responses
**Problem:** Not passing conversation context

**Fix:**
1. Check console logs show "Conversation history length: X"
2. Verify Groq provider is being used
3. Try new scenario to reset context

### Issue: Transmute lags during typing
**Problem:** Debouncing not working

**Fix:**
1. Check browser performance (F12 â†’ Performance tab)
2. Verify debouncing delay is set (should see updates ~150ms after stopping typing)
3. Try shorter text input

---

## Browser Console Commands

### Check current settings:
```javascript
JSON.parse(localStorage.getItem('gws:settings'))
```

### Check if Groq key is set:
```javascript
JSON.parse(localStorage.getItem('gws:settings')).groqApiKey
```

### Check preferred AI provider:
```javascript
JSON.parse(localStorage.getItem('gws:settings')).preferredAIProvider
```

### Check Culmination portfolios:
```javascript
JSON.parse(localStorage.getItem('gws:culmination:portfolios'))
```

### Clear all app data:
```javascript
Object.keys(localStorage).filter(k => k.startsWith('gws:')).forEach(k => localStorage.removeItem(k))
```

---

## Success Criteria

All features pass if:
- [x] Groq API key loads from `.env.local` automatically
- [x] All features use Groq as default provider
- [x] Distillation generates goal-specific tasks (NO "Google Scholar")
- [x] Projection responses reference user's specific statements
- [x] Culmination achievements save and display immediately
- [x] Transmute updates smoothly with preserved indentation
- [x] No "preferred provider: template" in console (unless Groq fails)
- [x] Debug Panel shows all tests passing

---

## Reporting Issues

If any test fails, provide:
1. **Which test failed** (specific step number)
2. **What was expected** vs **what happened**
3. **Console logs** (copy entire console output)
4. **Screenshots** if UI issue
5. **localStorage data** (use console commands above)

This helps identify if issue is:
- Code logic error
- API integration problem
- State management issue
- UI rendering bug
